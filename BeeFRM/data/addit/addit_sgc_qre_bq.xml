<?xml version = "1.0" encoding = "ISO-8859-1" ?>

<additional xmlns        = "http://cl/bee/genfrmjava/adddef/schema"
      xmlns:xsi          = "http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation = "http://cl/bee/genfrmjava/adddef/schema adddef.xsd"
      system             = "SGC"
      form               = "QRE">

  <!-- ========================================================================================== ==
    == DBC_GLS_ICLI
    == ========================================================================================== -->

  <section name="DBC_GLS_ICLI">

    <code><![CDATA[      *<<<< DBC_GLS_ICLI
           IF DBC-NUM-ICLI IN QRE-FLD > ZEROES
              MOVE DBC-NUM-ICLI IN QRE-FLD TO DBC-NUM-ICLI IN DBC
              MOVE DBC-IND-ICLI IN QRE-FLD TO DBC-IND-ICLI IN DBC
              MOVE DBC-GLS-ICLI IN QRE-FLD TO DBC-GLS-ICLI IN DBC
              MOVE 'DBC-IDC-ICLI'  TO FIO-AKEY
              MOVE FIO-GET-KEY TO FIO-CMND
              PERFORM SGC-FIO-DBC
              IF NOT FIO-STAT-OKS
                  MOVE 'SGC'        TO MSG-COD-SIST
                  MOVE 'CLI    NEX' TO MSG-COD-MENS
                  PERFORM GET-MSG
                  MOVE SPACES       TO FRM-GLS-RZNS IN QRE-FLD
                  MOVE MSG-GLS-DESC TO FRM-MENS
                  MOVE FRM-SUAR-MAL TO FRM-SUAR
                  GO TO FIN-VAL-DBC-GLS-ICLI
              ELSE
                  MOVE DBC-GLS-NOMC IN DBC TO CPT-STRN
                  PERFORM CPT-BLKS
                  MOVE CPT-STRN  TO FRM-GLS-RZNS IN QRE-FLD
                  MOVE DBC-CAI-ICLI IN DBC TO SCR-CAI-ICLI
                  MOVE DBC-IIC-ICLI IN DBC TO SCR-IIC-ICLI.
      *>>>>
]]></code>

  </section>

  <!-- ========================================================================================== ==
    == DBC_NUM_ICLI
    == ========================================================================================== -->

  <section name="DBC_NUM_ICLI">

    <code><![CDATA[      *<<<< DBC_NUM_ICLI
           IF DBC-NUM-ICLI IN QRE-FLD NOT > ZEROES
               PERFORM ERR-GLS
               GO TO FIN-VAL-DBC-NUM-ICLI.
      *>>>>
]]></code>

  </section>

  <!-- ========================================================================================== ==
    == FRM_IND_INVR
    == ========================================================================================== -->

  <section name="FRM_IND_INVR">

    <code><![CDATA[      *<<<< FRM_IND_INVR
           IF FRM-IND-INVR IN QRE-FLD NOT > SPACES
              MOVE 'N' TO FRM-IND-INVR IN QRE-FLD.
           IF FRM-IND-INVR IN QRE-FLD = 'N'
              GO TO FIN-VAL-FRM-IND-INVR.

           IF REC-COD-TREC IN QRE-FLD NOT > SPACES
              MOVE 'SGC'        TO MSG-COD-SIST
              MOVE 'INVR   INV' TO MSG-COD-MENS
              PERFORM GET-MSG
              MOVE MSG-GLS-DESC TO FRM-MENS
              MOVE FRM-SUAR-MAL TO FRM-SUAR
              GO TO FIN-VAL-FRM-IND-INVR.

           MOVE 'SGC'                   TO TAB-COD-SIST FIO-SIST.
           MOVE 'REC'                   TO TAB-COD-TTAB IN TAB.
           MOVE REC-COD-TREC IN QRE-FLD TO TAB-COD-CTAB IN TAB.
           MOVE FIO-GET-KEY TO FIO-CMND.
           PERFORM GNS-FIO-TAB.
           IF NOT FIO-STAT-OKS
              MOVE SPACES TO WSS-COD-TREC-INV IN WSS-VARI
              GO TO FIN-VAL-FRM-IND-INVR.
           MOVE TAB-GLS-DAT1 IN TAB TO WSS-COD-TREC-INV1 IN WSS-VARI.
           MOVE SPACES              TO WSS-COD-TREC-INV2 IN WSS-VARI.
      *>>>>
]]></code>

  </section>

  <!-- ========================================================================================== ==
    == FRM_IND_TCON
    == ========================================================================================== -->

  <section name="FRM_IND_TCON">

    <code><![CDATA[      *<<<< FRM_IND_TCON
           IF FRM-IND-TCON IN QRE-FLD NOT > SPACES
              MOVE 'N' TO FRM-IND-TCON IN QRE-FLD.
      *MHM-INI 23-AGO-2016 ARTICULO 85
           MOVE REC-COD-TREC IN QRE-FLD TO WSS-COD-TR02 IN WSS-ART85.
           IF (FRM-IND-TCON IN QRE-FLD = 'A' OR 'R') AND
              WSS-COD-TR02 IN WSS-ART85 NOT =
                                       WSS-COD-TRCD IN WSS-ART85 AND
              WSS-COD-TR02 IN WSS-ART85 NOT =
                                       WSS-COD-TRDC IN WSS-ART85
               MOVE 'SGC'         TO MSG-COD-SIST
               MOVE 'TCONTRECINV' TO MSG-COD-MENS
               PERFORM GET-MSG
               MOVE MSG-GLS-DESC TO FRM-MENS
               MOVE FRM-SUAR-MAL TO FRM-SUAR
               GO TO FIN-VAL-FRM-IND-TCON.

      *MHM-FIN 23-AGO-2016 ARTICULO 85
      *>>>>
]]></code>

  </section>

  <!-- ========================================================================================== ==
    == SETTAG
    == ========================================================================================== -->

  <section name="SETTAG">

    <code><![CDATA[]]></code>

  </section>

  <!-- ========================================================================================== ==
    ==
    == ========================================================================================== -->

</additional>
