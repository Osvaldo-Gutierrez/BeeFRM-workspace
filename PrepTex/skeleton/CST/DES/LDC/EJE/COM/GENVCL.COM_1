$   ON WARNING THEN EXIT
$   SET CONTROL=Y
$   ON CONTROL_Y THEN GOTO FIN
$   PAI="XXX"
$   IF GNS$PAI .NES. "" THEN PAI=GNS$PAI
$ P1:
$   IF P1 .NES. "" THEN GOTO MAIN
$   IF F$MODE() .EQS. "BATCH" THEN EXIT
$   INQUIRE P1 "Archivo (Asume [CST.DES.LDC.FTE.SRC]LDCPSVCL.SRC) ? "
$   IF P1 .EQS. "" THEN P1 = "[CST.DES.LDC.FTE.SRC]LDCPSVCL.SRC"
$MAIN:
$   IF F$MODE() .EQS. "BATCH" THEN 'BAT'
$   WRITE SYS$OUTPUT "[1m                       Generando[0m"
$   IF GNS$SOP .EQS. "VMS" THEN GOTO VMS
$CICS:
$   FIL = "LDCPSVCL"
$   NOM = "LDCPSVCL"
$   IF GNS$AIO .EQS. "DTC" THEN EXT = "PGD"
$   IF GNS$AIO .EQS. "VSI" THEN EXT = "PGI"
$   IF GNS$AIO .EQS. "DB2" THEN EXT = "PG2"
$  P3 = "(PGM_UVS=TRUE,PGM_''GNS$SOP'=TRUE,PGM_''GNS$LNG'=TRUE,PGM_''GNS$AIO'=TRUE,PGM_''GNS$AIU'=TRUE," + -
         "PGM_''GNS$PAI'=TRUE,PGM_''GNS$CLI'=TRUE,SUB_CICS=TRUE)"
$   GENPTX 'P1' 'NOM'.'EXT'/NOSHOW/UNDEFINED=ZERO'CMD' 'CDA'.TXT 'CDA'.GEN 'P3'
$   WRITE SYS$OUTPUT "[1mGenerado ''NOM'.''EXT'[0m"
$   EXIT
$VMS:
$   FIL = "LDCPSVCL"
$   NOM = "LDCPSVCL"
$   EXT = "COB"
$   P3 = "(PGM_''GNS$SOP'=TRUE,PGM_''GNS$LNG'=TRUE,PGM_''GNS$AIO'=TRUE,PGM_''GNS$AIU'=TRUE," + -
          "PGM_''GNS$PAI'=TRUE,PGM_''GNS$CLI'=TRUE,SUB_CICS=FALSE)"
$   GENPTX 'P1' 'NOM'.COB/NOSHOW/UNDEFINED=ZERO'CMD' 'CDA'.TXT 'CDA'.GEN 'P3'
$   WRITE SYS$OUTPUT "[1mGenerado ''NOM'.''EXT'[0m"
$FIN:
$   EXIT
