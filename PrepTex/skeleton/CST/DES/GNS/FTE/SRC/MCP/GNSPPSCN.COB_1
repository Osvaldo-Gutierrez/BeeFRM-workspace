$SET SHARING=SHAREDBYALL
BEGIN
  INTEGER PROCEDURE VALIDA(C,E);
    INTEGER C;
    EBCDIC ARRAY E[0];
    BEGIN
    INTEGER N;
    TRUTHSET VALIDOS ("ABCDEFGHIJKLMNOPQRSTUVWXYZ"
                      "0123456789"
                      " .-&/#");
      
    SCAN E FOR N:MIN(C,SIZE(E)) WHILE IN VALIDOS;
    IF N NEQ 0 THEN
      VALIDA := MIN(C,SIZE(E)) - N + 1;
    END OF VALIDA;
      
  EXPORT VALIDA;
      
  FREEZE(TEMPORARY);
      
END.
