IDENTIFICATION DIVISION.
*=======================
PROGRAM-ID.	DESRPTHDR.
AUTHOR.		GUZMAN Y CIA.

* Obtiene variables para Header standard de Reporte.

ENVIRONMENT DIVISION.
*====================

DATA DIVISION.
*=============
WORKING-STORAGE SECTION.
*-----------------------
COPY	'DESREG.FUN'	FROM	DICTIONARY
	REPLACING
	==FUN==		BY	==FUN	EXTERNAL==.
COPY	FIOWSS	IN	DESTXT.
COPY	RPTWSS	IN	DESTXT.

PROCEDURE DIVISION.
*==================

MAIN SECTION.
*------------
INI-MAIN.
	PERFORM BUS-HDR.
	PERFORM PUT-HDR.
FIN-MAIN.
	EXIT PROGRAM.

BUS-HDR SECTION.
*---------------
INI-BUS-HDR.
	MOVE FIO-IFNF-PGM TO FIO-IFNF.
	CALL 'DESFIOFUN' USING FIO-FNF.
	CALL 'DESFIOFUN' USING FIO-INP.
	IF FIO-STAT-FNF
		MOVE SPACES TO FUN-GLS-FMEN
		GO TO FIN-BUS-HDR.		
	MOVE ZEROES TO FUN-KEY-FUNC.
	CALL 'DESFIOFUN' USING FIO-GET-KEY.
	IF NOT FIO-STAT-OKS
		MOVE SPACES TO FUN-GLS-FMEN.
	CALL 'DESFIOFUN' USING FIO-CLO.
FIN-BUS-HDR.
	EXIT.

PUT-HDR SECTION.
*---------------
INI-PUT-HDR.
	MOVE SPACES       TO RPT-DUSU.
	MOVE FUN-GLS-FMEN TO RPT-DSIS.
	IF RPT-FAMD = LOW-VALUES
		ACCEPT RPT-FAMD FROM DATE.
	IF RPT-FDMA = LOW-VALUES
		MOVE   RPT-DAMD TO   RPT-DDMA
		MOVE   RPT-MAMD TO   RPT-MDMA
		MOVE   19	TO   RPT-SDMA
		MOVE   RPT-AAMD TO   RPT-ADMA.
FIN-PUT-HDR.
	EXIT.
