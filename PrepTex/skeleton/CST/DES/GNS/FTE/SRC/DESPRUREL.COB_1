IDENTIFICATION DIVISION.
*=======================
PROGRAM-ID.	^sis^PRU^reg^.
AUTHOR.		GUZMAN Y CIA.

* Prueba rutina ^sis^FIO^reg^ para archivo RELATIVO ^sis^^reg^.

ENVIRONMENT DIVISION.
*====================

DATA DIVISION.
*=============
WORKING-STORAGE SECTION.
*-----------------------
COPY	'^sis^REG.^reg^'	FROM	DICTIONARY
	REPLACING
	==^reg^==		BY	==^reg^	EXTERNAL==.
COPY	FIOWSS	IN	DESTXT.

PROCEDURE DIVISION.
*==================

MAIN SECTION.
*------------
INI-MAIN.
	DISPLAY ' '.
	DISPLAY 'INP	OUT	UPD		CLO'.
	DISPLAY 'GET_KEY	GET_NXT	GET_FST	GET_NLS	GET_GRT'.
	DISPLAY 'FND_KEY		FND_FST	FND_NLS	FND_GRT'.
	DISPLAY 'PUT	MOD	DEL	CHG	ULK_REC	ULK_ALL'.
	DISPLAY 'VID	ACC	REC_LCK	REC_LEN	FNF	FIN'.
	DISPLAY ' '.
	DISPLAY 'FIO-CMND : ' WITH NO ADVANCING.
	ACCEPT FIO-CMND WITH CONVERSION.
	DISPLAY ' '.
	IF FIO-CMND EQUAL 'FIN'
		GO TO FIN-MAIN.
	IF FIO-CMND EQUAL SPACES
		MOVE FIO-GET-NXT TO FIO-CMND.
	IF FIO-CMND = FIO-VID
		DISPLAY 'FIO-VOID : ' WITH NO ADVANCING
		ACCEPT FIO-VOID WITH CONVERSION
	ELSE
	IF FIO-CMND = FIO-ACC
		DISPLAY 'FIO-ACCS : ' WITH NO ADVANCING
		ACCEPT FIO-ACCS WITH CONVERSION
	ELSE
	IF FIO-CMND = FIO-REC-LCK
		DISPLAY 'FIO-RLCK : ' WITH NO ADVANCING
		ACCEPT FIO-RLCK WITH CONVERSION
	ELSE
	IF FIO-CMND = FIO-FNF
		DISPLAY 'FIO-IFNF : ' WITH NO ADVANCING
		ACCEPT FIO-IFNF WITH CONVERSION
	ELSE
	IF FIO-CMND = FIO-REC-LEN
		DISPLAY 'FIO-RLEN : ' WITH NO ADVANCING
		ACCEPT FIO-RLEN WITH CONVERSION
	ELSE
	IF FIO-CMND = FIO-FND-EQL OR FIO-FND-GRT OR FIO-FND-NLS OR
		      FIO-GET-KEY OR FIO-GET-GRT OR FIO-GET-NLS OR FIO-DEL
		DISPLAY 'FIO-RKEY : ' WITH NO ADVANCING
		ACCEPT FIO-RKEY WITH CONVERSION.
^alt^
	IF FIO-CMND = FIO-PUT OR FIO-MOD OR FIO-CHG
		DISPLAY 'FIO-RKEY : ' WITH NO ADVANCING
		ACCEPT FIO-RKEY WITH CONVERSION
		DISPLAY ' '
		DISPLAY 'REGISTRO : ' WITH NO ADVANCING
		ACCEPT ^reg^ WITH CONVERSION.
	CALL '^sis^FIO^reg^' USING FIO-CMND.
	IF NOT FIO-STAT-OKS
		DISPLAY ' '
		DISPLAY 'FIO-STAT : ' , FIO-STAT
		GO TO INI-MAIN.
	IF FIO-CMND = FIO-GET-KEY OR FIO-GET-GRT OR FIO-GET-NLS OR
		      FIO-GET-FST OR FIO-GET-NXT
		DISPLAY ' '
		DISPLAY 'REGISTRO : '
		DISPLAY ' '
		DISPLAY ^reg^.
	GO TO INI-MAIN.
FIN-MAIN.
	STOP RUN.
