*%! Codigo adicional para programa
*% IF WSS
      *<<<< WSS
       01  WSS-VARI.
           03 WSS-CMND                      PIC 9(02).
           03 WSS-VSPW.
              05 FILLER                     PIC X(08) VALUE 'BGENLIS '.
              05 WSS-DPRO                   PIC X(12).
      *>>>>
*% END
*% IF FND_KEY
      *<<<< FND_KEY
           MOVE SPACES TO RPR-COD-TRYC.
           MOVE 'A'    TO RPR-COD-TREG.
           MOVE SPACES TO RPR-COD-DARC.
           IF RPR-COD-DPTR = SPACES
               MOVE FIO-GET-NXT TO FIO-CMND
               PERFORM GNS-FIO-RPR
           ELSE
               MOVE FIO-GET-KEY TO FIO-CMND
               PERFORM GNS-FIO-RPR.
           MOVE FIO-STAT TO PGM-STAT-RPR.
           GO TO FIN-FND-KEY.
      *>>>>
*% END
*% IF PUT_SCR
      *<<<< PUT_SCR
           MOVE 'A' TO RPR-COD-TREG.
           MOVE FIO-GET-KEY TO FIO-CMND.
           PERFORM GNS-FIO-RPR.
           MOVE RPR-GLS-DAUT IN RPR TO FRM-GLS-DAUT IN RPR-FLD.

           MOVE 'B' TO RPR-COD-TREG.
           MOVE FIO-GET-KEY TO FIO-CMND.
           PERFORM GNS-FIO-RPR.
           MOVE RPR-GLS-ABAS IN RPR TO FRM-GLS-ABAS IN RPR-FLD.

           MOVE 'R' TO RPR-COD-TREG.
           MOVE FIO-GET-KEY TO FIO-CMND.
           PERFORM GNS-FIO-RPR.
           MOVE RPR-GLS-DREP IN RPR TO FRM-GLS-DREP IN RPR-FLD.

           MOVE 'S' TO RPR-COD-TREG.
           MOVE FIO-GET-KEY TO FIO-CMND.
           PERFORM GNS-FIO-RPR.
           MOVE RPR-IND-SORT IN RPR TO FRM-IND-SORT IN RPR-FLD.
      *>>>>
*% END
*% IF CMN_MOD
      *<<<< CMN_MOD
           MOVE FIO-MOD TO WSS-CMND.
           PERFORM FIO-RPR.
           GO TO FIN-CMN-MOD.
      *>>>>
*% END
*% IF CMN_ING
      *<<<< CMN_ING
           MOVE FIO-PUT TO WSS-CMND.
           PERFORM FIO-RPR.
           GO TO FIN-CMN-ING.
      *>>>>
*% END
*% IF CMN_ELI
      *<<<< CMN_ELI
           MOVE RPR-COD-DPRO IN RPR-FLD TO RPR-COD-DPRO IN RPR.
           MOVE 'A '                    TO RPR-COD-TRYC IN RPR.
           MOVE SPACES                  TO RPR-COD-DARC IN RPR.
           MOVE FIO-DEL TO FIO-CMND.
           PERFORM GNS-FIO-RPR.

           MOVE RPR-COD-DPRO IN RPR-FLD TO RPR-COD-DPRO IN RPR.
           MOVE 'B '                    TO RPR-COD-TRYC IN RPR.
           MOVE SPACES                  TO RPR-COD-DARC IN RPR.
           MOVE FIO-DEL TO FIO-CMND.
           PERFORM GNS-FIO-RPR.

           MOVE RPR-COD-DPRO IN RPR-FLD TO RPR-COD-DPRO IN RPR.
           MOVE 'R '                    TO RPR-COD-TRYC IN RPR.
           MOVE SPACES                  TO RPR-COD-DARC IN RPR.
           MOVE FIO-DEL TO FIO-CMND.
           PERFORM GNS-FIO-RPR.

           MOVE RPR-COD-DPRO IN RPR-FLD TO RPR-COD-DPRO IN RPR.
           MOVE 'S '                    TO RPR-COD-TRYC IN RPR.
           MOVE SPACES                  TO RPR-COD-DARC IN RPR.
      *>>>>
*% END
*% IF ABT_CMN_ACC
      *<<<< ABT_CMN_ACC
               IF SCR-CMND = 'GEN'
                   MOVE 'RPRACC NOGEN' TO MSG-COD-MENS
                   GO TO MSG-CMN-ACC
               ELSE
               IF SCR-CMND = 'COP'
                   MOVE 'RPRACC NOCOP' TO MSG-COD-MENS
                   GO TO MSG-CMN-ACC
               ELSE
      *>>>>
*% END
*% IF CMN_ACC
      *<<<< CMN_ACC
           MOVE SPACES TO MSG-COD-MENS.
           IF SCR-CMND = 'GEN'
               MOVE RPR-COD-DPRO IN RPR TO WSS-DPRO
               CALL 'LIB$SPAWN' USING BY DESCRIPTOR WSS-VSPW
           ELSE
           IF SCR-CMND = 'COP'
               MOVE FIO-PUT TO FIO-CMND
               PERFORM FIO-RPR.
       MSG-CMN-ACC.
           IF MSG-COD-MENS NOT > SPACES
               GO TO FIN-CMN-ACC.
           MOVE 'GNS' TO MSG-COD-SIST.
           PERFORM GET-MSG.
           MOVE MSG-GLS-DESC TO FRM-MENS.
      *>>>>
*% END
*% IF EOF
      *<<<< EOF
       FIO-RPR SECTION.
      *---------------
       INI-FIO-RPR.
           MOVE SPACES TO RPR.
           MOVE RPR-COD-DPRO IN RPR-FLD TO RPR-COD-DPRO IN RPR.
           MOVE 'A'                     TO RPR-COD-TREG IN RPR.
           MOVE FRM-GLS-DAUT IN RPR-FLD TO RPR-GLS-DAUT IN RPR.
           MOVE WSS-CMND TO FIO-CMND.
           PERFORM GNS-FIO-RPR.
           IF NOT FIO-STAT-OKS
               GO TO FIN-FIO-RPR.

           MOVE SPACES TO RPR.
           MOVE RPR-COD-DPRO IN RPR-FLD TO RPR-COD-DPRO IN RPR.
           MOVE 'B'                     TO RPR-COD-TREG IN RPR.
           MOVE FRM-GLS-ABAS IN RPR-FLD TO RPR-GLS-ABAS IN RPR.
           MOVE WSS-CMND TO FIO-CMND.
           PERFORM GNS-FIO-RPR.
           IF NOT FIO-STAT-OKS
               GO TO FIN-FIO-RPR.

           MOVE SPACES TO RPR.
           MOVE RPR-COD-DPRO IN RPR-FLD TO RPR-COD-DPRO IN RPR.
           MOVE 'R'                     TO RPR-COD-TREG IN RPR.
           MOVE FRM-GLS-DREP IN RPR-FLD TO RPR-GLS-DREP IN RPR.
           MOVE WSS-CMND TO FIO-CMND.
           PERFORM GNS-FIO-RPR.
           IF NOT FIO-STAT-OKS
               GO TO FIN-FIO-RPR.

           MOVE SPACES TO RPR.
           MOVE RPR-COD-DPRO IN RPR-FLD TO RPR-COD-DPRO IN RPR.
           MOVE 'S'                     TO RPR-COD-TREG IN RPR.
           MOVE FRM-IND-SORT IN RPR-FLD TO RPR-IND-SORT IN RPR.
           MOVE WSS-CMND TO FIO-CMND.
           PERFORM GNS-FIO-RPR.
       FIN-FIO-RPR.
           EXIT.
      *>>>>
*% END
