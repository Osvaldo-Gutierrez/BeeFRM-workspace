$ P1:
$	IF P1 .NES. "" THEN GOTO MAIN
$	IF F$MODE() .EQS. "BATCH" THEN EXIT
$	INQUIRE P1 "Programa ? "
$	GOTO P1
$ MAIN:
$	IF P2 .NES. "" THEN GOTO PTX
$	IF F$MODE() .EQS. "BATCH" THEN 'BAT'
$	WRITE SYS$OUTPUT "[5m[1m",-
		"			Generando...[0m"
$	IF F$SEARCH("''P1'.TEM") .NES. "" THEN GOTO ASS
$	WRITE SYS$OUTPUT "[1m[A[K",-
	"		ERROR : NO Existe Archivo " + P1 + ".TEM[0m"
$	EXIT
$ ASS:	
$	ON WARNING   THEN GOTO ERR
$	ON CONTROL_Y THEN GOTO ERR
$	ASS CPT'P1'.LOG SYS$OUTPUT
$	ASS CPT'P1'.LOG SYS$ERROR
$ PTX:
$	GENPTX 'P1'.TEM 'P1'.COB 'P1'.TXT 'P1'.GEN "PGM_VAX=TRUE"
$ FIN:
$	SET NOON
$	IF P2 .NES. "" THEN GOTO FMS
$	DEASS SYS$OUTPUT
$	DEASS SYS$ERROR
$	DELETE/NOLOG/NOCONFIRM	CPT'P1'.LOG.*
$ FMS:
$	IF F$MODE() .NES. "BATCH" THEN-
		WRITE SYS$COMMAND "[1m[A[K",-
		"			''P1'.COB Generado[0m"
$	EXIT
$ ERR:
$	SET NOCONTROL=Y
$	SET NOON
$	IF P2 .NES. "" THEN GOTO EMS
$	DEASS SYS$OUTPUT
$	DEASS SYS$ERROR
$	SET CONTROL=Y
$ EMS:
$	IF F$MODE() .EQS. "BATCH" THEN EXIT
$	WRITE SYS$COMMAND "[1m[A[K ERROR[0m"
$	TYPE CPT'P1'.LOG
$	EXIT
