$ P1:
$	IF P1 .NES. "" THEN GOTO MAIN
$	IF F$MODE() .EQS. "BATCH" THEN EXIT
$	INQUIRE P1 "Archivo ? "
$	GOTO P1
$ MAIN:
$	ON WARNING   THEN GOTO ERR
$	ON CONTROL_Y THEN GOTO ERR
$	IF F$MODE() .EQS. "BATCH" THEN 'BAT'
$	@DESCOM:FIL 'P1' DDL
$	P1 = DES$PTH
$	P2 = DES$FIL
$	ASS DDL'P2'.LOG SYS$OUTPUT
$	ASS DDL'P2'.LOG SYS$ERROR
$	OPEN/WRITE FILE DDL'P2'.EDT
$	WRITE FILE "DELETE"
$	WRITE FILE "DELETE"
$	WRITE FILE "DELETE"
$	WRITE FILE "S/!	/!    /W/NOTYPE"
$	WRITE FILE "S/!/      */W/NOTYPE"
$	WRITE FILE "S/	PIC/PIC/W/NOTYPE"
$	WRITE FILE "S/	/           /W/NOTYPE"
$	WRITE FILE "S/01 ''P2'/       01  ''P2'/W/NOTYPE"
$	WRITE FILE "S/DELETE/      *DELETE/W/NOTYPE"
$	WRITE FILE "S/DEFINE RECORD/      *DEFINE RECORD/W/NOTYPE"
$	WRITE FILE "3"
$	WRITE FILE "S/;/      *;/R/NOTYPE"
$	WRITE FILE "EXIT"
$	CLOSE FILE
$	EDIT/COMMAND=DDL'P2'.EDT/OUTPUT='DES$PRY'BR'P2'.REG 'P1'
$ FIN:
$	SET NOON
$	DEASS SYS$OUTPUT
$	DEASS SYS$ERROR
$	DELETE/NOLOG/NOCONFIRM	DDL'P2'.LOG.*,	DDL'P2'.EDT.
$	EXIT
$ ERR:
$	SET NOCONTROL=Y
$	SET NOON
$	DELETE/NOLOG/NOCONFIRM	DDL'P2'.EDT.
$	CLOSE FILE
$	DEASS SYS$OUTPUT
$	DEASS SYS$ERROR
$	WRITE SYS$OUTPUT "[1m[A[K ERROR[0m"
$	TYPE DDL'P2'.LOG
$	SET CONTROL=Y
$	EXIT
