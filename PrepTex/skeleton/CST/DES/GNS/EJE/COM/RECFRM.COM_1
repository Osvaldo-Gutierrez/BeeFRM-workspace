$ P1:
$ WRITE SYS$OUTPUT "Ingrese Sistema sss y nombre Formulario fff"
$ WRITE SYS$OUTPUT "Extensiones deben ser las mismas de generacion VAX .MAP , wi.aiu bq.srcaiu "
$	IF P1 .NES. "" THEN GOTO P2
$	IF F$MODE() .EQS. "BATCH" THEN EXIT
$	INQUIRE P1 "Sistema ? "
$	GOTO P1
$ P2:
$	IF P2 .NES. "" THEN GOTO MAIN
$	IF F$MODE() .EQS. "BATCH" THEN EXIT
$	INQUIRE P2 "Formulario ? "
$	GOTO P2
$ MAIN:
$	ON WARNING   THEN GOTO ERR
$	ON CONTROL_Y THEN GOTO ERR
$	IF F$MODE() .EQS. "BATCH" THEN 'BAT'
$	WRITE SYS$OUTPUT "[5m[1m",-
		"			Generando...[0m"
$	IF F$LOCATE("/F",P1) .NES. F$LENGTH(P1) THEN GOTO LIB
$	@GNSCOM:FIL 'P1' MAP
$!	P1 = GNS$PTH
$!	P2 = GNS$FIL
$!	P3 = GNS$EXT
$ WRITE SYS$OUTPUT P1
$ WRITE SYS$OUTPUT P2
$ WRITE SYS$OUTPUT P3
$	GOTO CON
$ LIB:
$!	P2 = F$EXTRACT(F$LOCATE("=",P1)+1,F$LENGTH(P1),P1)
$ CON:
$!	ASS RPT'P2'.LOG SYS$OUTPUT
$!	ASS RPT'P2'.LOG SYS$ERROR
$       SEARCH 'P1'WI'P2'.AIU "-EDT" /OUT='P1'NU'P2'.SER
$	RUN GNSEXE:RECFRM102
$!       FMS/TRANS      'P1''P2'.FLG
$        FMS/TRANS/LIST     'P2'.FLG
$ FIN:
$	SET NOON
$!	DEASS SYS$OUTPUT
$!	DEASS SYS$ERROR
$!	DELETE/NOLOG/NOCONFIRM RPT'P2'.LOG.*
$!JSS 	WRITE SYS$OUTPUT "[A[2K"
$	EXIT
$ ERR:
$	SET NOCONTROL=Y
$	SET NOON
$	CLOSE FILE
$!	DEASS SYS$OUTPUT
$!	DEASS SYS$ERROR
$	WRITE SYS$OUTPUT "[1m[A[K ERROR[0m"
$!	TYPE RPT'P2'.LOG
$	SET CONTROL=Y
$	EXIT
