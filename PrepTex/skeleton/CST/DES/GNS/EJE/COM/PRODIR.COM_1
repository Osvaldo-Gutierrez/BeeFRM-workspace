$	IF F$TRNLNM("TMP") .EQS. "" THEN DEFINE/NOLOG TMP []
$ DIR:
$!	DIREC/COL=0/NOHEADER/NOTRA/DATE/SIZE/OUT=TMP:'GNS$OPR'PROREP.TMP REP
$	DIREC/COL=0/NOTRAI/SIZE/DATE/OUT=TMP:'GNS$OPR'PROREP.TMP []*.*/EXC=*.DIR
$	ON ERROR THEN GOTO FIN
$	FIL = "TMP:''GNS$OPR'PROREP.TMP"
$	KEY = "RET,PF1"
$	CHR = "I,H,P,E,M,B, "
$	PRM = -
"I:LPT - H:PRT132 - P:PRT80 - E:EDT - M:LUK - B:DEL - PF1:PURGE - Salir: RETURN"
$ MAIN:
$	RUN GNSEXE:PRODFL
$!	WRITE SYS$OUTPUT "REG : ",GNS$DFLREG
$!	WRITE SYS$OUTPUT "COD : ",GNS$DFLCOD
$!	WRITE SYS$OUTPUT "KEY : ",GNS$DFLKEY
$!	WRITE SYS$OUTPUT "CHR : ",GNS$DFLCHR
$	IF GNS$DFLKEY .EQS. "PF1" THEN GOTO PF1
$	IF GNS$DFLCHR .EQS. "I" THEN GOTO PRTQUE
$	IF GNS$DFLCHR .EQS. "H" THEN GOTO PRT132
$	IF GNS$DFLCHR .EQS. "P" THEN GOTO PRT80
$	IF GNS$DFLCHR .EQS. "E" THEN GOTO EDITAR
$	IF GNS$DFLCHR .EQS. "M" THEN GOTO MIRAR
$	IF GNS$DFLCHR .EQS. "B" THEN GOTO BORRAR
$	GOTO FIN
$ PF1:
$	PURGE
$	GOTO DIR
$ PRTQUE:
$	PRINT/NOFEED []'GNS$DFLCOD'
$	GOTO MAIN
$ PRT132:
$	SET TERMINAL/WIDTH=132
$	WRITE SYS$OUTPUT "[5i"
$	TYPE []'GNS$DFLCOD'
$	WRITE SYS$OUTPUT ""
$	WRITE SYS$OUTPUT "[4i"
$	SET TERMINAL/WIDTH=80
$	GOTO MAIN
$ PRT80:
$	PRT []'GNS$DFLCOD'
$	GOTO MAIN
$ MIRAR:
$	DEFINE/NOLOG SYS$INPUT SYS$COMMAND
$	SET TERMINAL/WIDTH=132
$	EDITT/READ/COMM=GNSCOM:EDTINIREP.COM []'GNS$DFLCOD'
$	SET TERMINAL/WIDTH=80
$	GOTO MAIN
$ EDITAR:
$	DEFINE/NOLOG SYS$INPUT SYS$COMMAND
$	EDIT []'GNS$DFLCOD'
$	GOTO MAIN
$ BORRAR:
$	DELETE/LOG/CONFIRM []'GNS$DFLCOD'
$ FIN:
$	DELETE/NOLOG/NOCONFIRM TMP:'GNS$OPR'PROREP.TMP;*
$	IF GNS$DFLCHR .EQS. "B" THEN GOTO DIR
