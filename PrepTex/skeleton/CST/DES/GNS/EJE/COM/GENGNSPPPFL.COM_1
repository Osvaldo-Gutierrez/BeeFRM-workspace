$ P1 = "GNSPPPFL"
$ P1:
$	IF P1 .NES. "" THEN GOTO MAIN
$	IF F$MODE() .EQS. "BATCH" THEN EXIT
$	INQUIRE P1 "Modulo ? "
$	GOTO P1
$ MAIN:
$	IF F$MODE() .EQS. "BATCH" THEN 'BAT'
$	WRITE SYS$OUTPUT "[5m[1m",-
		"			Generando...[0m"
$ ASS:	
$	IF GNS$AIO .EQS. "DTC" THEN EXT = "PGD"
$	IF GNS$AIO .EQS. "VSI" THEN EXT = "PGI"
$	ASS SRC'P1'.LOG SYS$OUTPUT
$	ASS SRC'P1'.LOG SYS$ERROR
$ AIU:
$	AIU = F$SEARCH("''P1'.SRCSOP")
$	IF AIU .NES. "" THEN GOTO QLF
$ NAIU:
$	WRITE SYS$OUTPUT "[1m[A[K",-
	"		ERROR : NO Existe Archivo ''P1'.SRCSOP[0m"
$	GOTO ERR
$ QLF:
$	IF P2 .EQS. "" THEN P2 = "/CDA=" + P1
$	QLF == "$GNSEXE:PROQLF"
$	QLF /CDA=* 'P2'
$ PROC:
$	ON WARNING THEN GOTO ERR
$	P3 = "(PGM_''GNS$SOP'=TRUE,PGM_''GNS$LNG'=TRUE,PGM_''GNS$AIO'=TRUE,PGM_''GNS$AIU'=TRUE"
$	GENPTX 'P1'.SRCSOP 'P1'.'EXT' 'CDA'.TXT 'CDA'.GEN 'P3'
$!	IF AIU .NES. "" THEN PUT 'P1'.AIU
$!	IF AIU .EQS. "" THEN DELETE/NOLOG/NOCONFIRM 'P1'.AIU.*
$	DEASS SYS$OUTPUT
$	DEASS SYS$ERROR
$	DELETE/NOLOG/NOCONFIRM SRC'P1'.LOG.*
$	WRITE SYS$OUTPUT "[1m[A[K",-
	"			''P1'.''EXT' Generado[0m"
$	EXIT
$ ERR:
$	DEASS SYS$OUTPUT
$	DEASS SYS$ERROR
$	SET CONTROL=Y
$ EMS:
$	IF F$MODE() .EQS. "BATCH" THEN EXIT
$	WRITE SYS$COMMAND "[1m[A[K ERROR[0m"
$	TYPE SRC'P1'.LOG
$	EXIT

